---
import '../styles/global.css';
import { Package, Sparkles, Zap, RefreshCw, FolderInput, GitBranch, Anchor, Globe, FileCode, Terminal, Layers, Shield, Clock, Eye, Play, Search, CheckCircle, AlertTriangle, ArrowRight } from 'lucide-astro';

const features = [
  {
    icon: Package,
    title: 'File Dependencies',
    description: 'Like Make, track file modifications and only rebuild what changed. Glob patterns included.',
  },
  {
    icon: Sparkles,
    title: 'Clean Syntax',
    description: 'No cryptic symbols or tab sensitivity. Just readable, maintainable build scripts.',
  },
  {
    icon: Zap,
    title: 'Parallel Execution',
    description: 'Run independent tasks simultaneously. Automatic job scheduling with -j flag.',
  },
  {
    icon: RefreshCw,
    title: 'Watch Mode',
    description: 'Built-in file watching. Re-run tasks automatically when sources change.',
  },
  {
    icon: FolderInput,
    title: 'Import System',
    description: 'Split large Jakefiles into modules. Namespaced imports prevent collisions.',
  },
  {
    icon: GitBranch,
    title: 'Conditionals',
    description: 'if/elif/else logic in your tasks. Check env vars, file existence, and more.',
  },
  {
    icon: Anchor,
    title: 'Pre/Post Hooks',
    description: 'Run setup and cleanup commands automatically. Global or per-task hooks.',
  },
  {
    icon: Globe,
    title: '.env Loading',
    description: 'Load environment variables from .env files. Multiple files supported.',
  },
];

// Code examples as raw HTML strings to avoid escaping issues
const heroCode = `<span class="text-syntax-comment"># Variables</span>
<span class="text-syntax-variable">app_name</span> = <span class="text-syntax-string">"myapp"</span>

<span class="text-syntax-comment"># Load environment</span>
<span class="text-syntax-keyword">@dotenv</span>

<span class="text-syntax-comment"># Default task</span>
<span class="text-syntax-keyword">@default</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">build</span>:
    <span class="text-syntax-keyword">@description</span> <span class="text-syntax-string">"Build the application"</span>
    cargo build --release

<span class="text-syntax-comment"># File target - only rebuilds when changed</span>
<span class="text-syntax-keyword">file</span> <span class="text-syntax-function">dist/app</span>: <span class="text-text-secondary">src/**/*.rs</span>
    cargo build --release
    cp target/release/<span class="text-syntax-variable">{{app_name}}</span> dist/app

<span class="text-syntax-comment"># Conditional logic</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">deploy</span>: [build, test]
    <span class="text-syntax-keyword">@confirm</span> <span class="text-syntax-string">"Deploy to production?"</span>
    <span class="text-syntax-keyword">@if</span> <span class="text-syntax-function">env</span>(CI)
        ./scripts/deploy-ci.sh
    <span class="text-syntax-keyword">@else</span>
        ./scripts/deploy-local.sh
    <span class="text-syntax-keyword">@end</span>`;

const makeCode = `<span class="text-syntax-variable">CC</span> = gcc
<span class="text-syntax-variable">CFLAGS</span> = -Wall

<span class="text-syntax-keyword">.PHONY</span>: all clean test

<span class="text-syntax-function">all</span>: build test

<span class="text-syntax-function">build</span>: main.o utils.o
	<span class="text-syntax-variable">$(CC)</span> -o app main.o utils.o

<span class="text-syntax-function">%.o</span>: %.c
	<span class="text-syntax-variable">$(CC)</span> <span class="text-syntax-variable">$(CFLAGS)</span> -c <span class="text-syntax-variable">$&lt;</span>

<span class="text-syntax-function">test</span>: build
	./run_tests.sh

<span class="text-syntax-function">clean</span>:
	rm -f *.o app`;

const justCode = `<span class="text-syntax-variable">cc</span> := "gcc"
<span class="text-syntax-variable">cflags</span> := "-Wall"

<span class="text-syntax-function">default</span>: all

<span class="text-syntax-function">all</span>: build test

<span class="text-syntax-function">build</span>:
    <span class="text-syntax-variable">{{cc}}</span> <span class="text-syntax-variable">{{cflags}}</span> -c main.c
    <span class="text-syntax-variable">{{cc}}</span> <span class="text-syntax-variable">{{cflags}}</span> -c utils.c
    <span class="text-syntax-variable">{{cc}}</span> -o app main.o utils.o

<span class="text-syntax-function">test</span>: build
    ./run_tests.sh

<span class="text-syntax-function">clean</span>:
    rm -f *.o app`;

const jakeCode = `<span class="text-syntax-variable">cc</span> = <span class="text-syntax-string">"gcc"</span>
<span class="text-syntax-variable">cflags</span> = <span class="text-syntax-string">"-Wall"</span>

<span class="text-syntax-keyword">@default</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">all</span>: [build, test]

<span class="text-syntax-comment"># Only rebuilds when sources change!</span>
<span class="text-syntax-keyword">file</span> <span class="text-syntax-function">app</span>: <span class="text-text-secondary">*.c</span>
    <span class="text-syntax-variable">{{cc}}</span> <span class="text-syntax-variable">{{cflags}}</span> -o app *.c

<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">test</span>: [app]
    ./run_tests.sh

<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">clean</span>:
    rm -f *.o app`;

const watchExample = `<span class="text-syntax-comment"># Terminal</span>
<span class="text-text-muted">$</span> jake -w build

<span class="text-text-muted"># Output:</span>
<span class="text-syntax-function">Watching</span> src/**/*.ts
<span class="text-green-500">âœ“</span> build <span class="text-text-muted">(0.42s)</span>

<span class="text-text-muted"># Edit a file...</span>
<span class="text-syntax-variable">Changed:</span> src/index.ts
<span class="text-green-500">âœ“</span> build <span class="text-text-muted">(0.18s)</span>`;

const parallelExample = `<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">all</span>: [frontend, backend, docs]
    <span class="text-syntax-keyword">@description</span> <span class="text-syntax-string">"Build everything"</span>

<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">frontend</span>:
    npm run build

<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">backend</span>:
    cargo build --release

<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">docs</span>:
    mkdocs build

<span class="text-syntax-comment"># Run with 4 parallel jobs</span>
<span class="text-text-muted">$</span> jake -j4 all`;

const importsExample = `<span class="text-syntax-comment"># Jakefile</span>
<span class="text-syntax-keyword">@import</span> <span class="text-syntax-string">"scripts/docker.jake"</span> <span class="text-syntax-keyword">as</span> docker
<span class="text-syntax-keyword">@import</span> <span class="text-syntax-string">"scripts/deploy.jake"</span> <span class="text-syntax-keyword">as</span> deploy

<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">release</span>: [build, docker.push]
    <span class="text-syntax-keyword">@confirm</span> <span class="text-syntax-string">"Deploy to production?"</span>
    deploy.production

<span class="text-syntax-comment"># Usage:</span>
<span class="text-text-muted">$</span> jake docker.build
<span class="text-text-muted">$</span> jake deploy.staging`;

const hooksExample = `<span class="text-syntax-comment"># Global hooks</span>
<span class="text-syntax-keyword">@pre</span> echo <span class="text-syntax-string">"Starting build..."</span>
<span class="text-syntax-keyword">@post</span> echo <span class="text-syntax-string">"Build complete!"</span>

<span class="text-syntax-comment"># Per-task hooks</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">test</span>:
    <span class="text-syntax-keyword">@pre</span> docker-compose up -d
    npm test
    <span class="text-syntax-keyword">@post</span> docker-compose down

<span class="text-syntax-comment"># Error handling</span>
<span class="text-syntax-keyword">@on_error</span> notify <span class="text-syntax-string">"Build failed!"</span>`;

// Deep-dive section examples
const incrementalBuildExample = `<span class="text-syntax-comment"># File target with glob pattern</span>
<span class="text-syntax-keyword">file</span> <span class="text-syntax-function">dist/bundle.js</span>: <span class="text-text-secondary">src/**/*.ts</span>
    esbuild src/index.ts --bundle --outfile=dist/bundle.js

<span class="text-syntax-comment"># Chain file targets together</span>
<span class="text-syntax-keyword">file</span> <span class="text-syntax-function">dist/app.min.js</span>: <span class="text-text-secondary">dist/bundle.js</span>
    terser dist/bundle.js -o dist/app.min.js

<span class="text-syntax-comment"># Tasks can depend on file targets</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">build</span>: [dist/app.min.js]
    echo <span class="text-syntax-string">"Build complete!"</span>`;

const incrementalOutput = `<span class="text-text-muted">$</span> jake build
<span class="text-jake">â†’</span> dist/bundle.js
  esbuild src/index.ts --bundle --outfile=dist/bundle.js
<span class="text-green-500">âœ“</span> dist/bundle.js <span class="text-text-muted">(0.42s)</span>
<span class="text-jake">â†’</span> dist/app.min.js
  terser dist/bundle.js -o dist/app.min.js
<span class="text-green-500">âœ“</span> dist/app.min.js <span class="text-text-muted">(0.18s)</span>
<span class="text-jake">â†’</span> build
  echo "Build complete!"
<span class="text-green-500">âœ“</span> build <span class="text-text-muted">(0.01s)</span>

<span class="text-text-muted">$</span> jake build  <span class="text-syntax-comment"># Run again - no changes!</span>
<span class="text-text-muted">âŠ˜</span> dist/bundle.js <span class="text-text-muted">(up to date)</span>
<span class="text-text-muted">âŠ˜</span> dist/app.min.js <span class="text-text-muted">(up to date)</span>
<span class="text-green-500">âœ“</span> build <span class="text-text-muted">(0.01s)</span>`;

const devExperienceExample = `<span class="text-syntax-comment"># Clear, descriptive task definitions</span>
<span class="text-syntax-keyword">@group</span> build
<span class="text-syntax-keyword">@desc</span> <span class="text-syntax-string">"Build the application for production"</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">build</span> <span class="text-syntax-variable">mode</span>=<span class="text-syntax-string">"release"</span>:
    cargo build --<span class="text-syntax-variable">{{mode}}</span>

<span class="text-syntax-comment"># Aliases for common shortcuts</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">build</span> | <span class="text-syntax-function">b</span> | <span class="text-syntax-function">compile</span>:
    cargo build

<span class="text-syntax-comment"># Private helpers (hidden from -l)</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">_setup-env</span>:
    <span class="text-syntax-keyword">@quiet</span>
    export NODE_ENV=production`;

const devExperienceOutput = `<span class="text-text-muted">$</span> jake buidl  <span class="text-syntax-comment"># Oops, typo!</span>
<span class="text-red-500">error:</span> Recipe 'buidl' not found
<span class="text-text-secondary">Did you mean:</span> <span class="text-jake">build</span>?

<span class="text-text-muted">$</span> jake -s build  <span class="text-syntax-comment"># Inspect recipe</span>
<span class="text-jake">Recipe:</span> build
<span class="text-text-secondary">Type:</span>    task
<span class="text-text-secondary">Group:</span>   build
<span class="text-text-secondary">Desc:</span>    Build the application for production
<span class="text-text-secondary">Aliases:</span> b, compile

<span class="text-text-secondary">Parameters:</span>
  mode <span class="text-text-muted">(default: "release")</span>

<span class="text-text-secondary">Commands:</span>
  cargo build --{{mode}}`;

const executionExample = `<span class="text-syntax-comment"># Parallel task execution</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">all</span>: [frontend, backend, docs]

<span class="text-syntax-comment"># Watch mode with custom patterns</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">dev</span>:
    <span class="text-syntax-keyword">@watch</span> src/**/*.ts tests/**/*.ts
    npm run dev

<span class="text-syntax-comment"># Conditional logic</span>
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">deploy</span>:
    <span class="text-syntax-keyword">@if</span> <span class="text-syntax-function">env</span>(CI)
        ./deploy-ci.sh
    <span class="text-syntax-keyword">@elif</span> <span class="text-syntax-function">eq</span>($ENV, <span class="text-syntax-string">"prod"</span>)
        <span class="text-syntax-keyword">@confirm</span> <span class="text-syntax-string">"Deploy to production?"</span>
        ./deploy-prod.sh
    <span class="text-syntax-keyword">@else</span>
        ./deploy-staging.sh
    <span class="text-syntax-keyword">@end</span>`;

const executionOutput = `<span class="text-text-muted">$</span> jake -j4 all  <span class="text-syntax-comment"># 4 parallel jobs</span>
<span class="text-jake">â†’</span> frontend <span class="text-text-muted">â”‚</span> <span class="text-jake">â†’</span> backend <span class="text-text-muted">â”‚</span> <span class="text-jake">â†’</span> docs
<span class="text-green-500">âœ“</span> docs <span class="text-text-muted">(1.2s)</span>
<span class="text-green-500">âœ“</span> frontend <span class="text-text-muted">(2.8s)</span>
<span class="text-green-500">âœ“</span> backend <span class="text-text-muted">(3.1s)</span>
<span class="text-green-500">âœ“</span> all <span class="text-text-muted">(3.1s total)</span>

<span class="text-text-muted">$</span> jake -w dev  <span class="text-syntax-comment"># Watch mode</span>
<span class="text-blue-400">ðŸ‘€</span> Watching src/**/*.ts, tests/**/*.ts
<span class="text-green-500">âœ“</span> dev <span class="text-text-muted">(0.8s)</span>

<span class="text-yellow-500">Changed:</span> src/index.ts
<span class="text-jake">â†’</span> dev <span class="text-text-muted">(rebuilding...)</span>
<span class="text-green-500">âœ“</span> dev <span class="text-text-muted">(0.3s)</span>`;

const scaleExample = `<span class="text-syntax-comment"># Import with namespacing</span>
<span class="text-syntax-keyword">@import</span> <span class="text-syntax-string">"scripts/docker.jake"</span> <span class="text-syntax-keyword">as</span> docker
<span class="text-syntax-keyword">@import</span> <span class="text-syntax-string">"scripts/k8s.jake"</span> <span class="text-syntax-keyword">as</span> k8s

<span class="text-syntax-comment"># Environment configuration</span>
<span class="text-syntax-keyword">@dotenv</span>
<span class="text-syntax-keyword">@dotenv</span> <span class="text-syntax-string">".env.local"</span>
<span class="text-syntax-keyword">@export</span> NODE_ENV=production

<span class="text-syntax-comment"># Validation before running</span>
<span class="text-syntax-keyword">@needs</span> docker kubectl helm
<span class="text-syntax-keyword">@require</span> AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY

<span class="text-syntax-comment"># Platform-specific tasks</span>
<span class="text-syntax-keyword">@platform</span> macos
<span class="text-syntax-keyword">task</span> <span class="text-syntax-function">install-deps</span>:
    brew install protobuf`;

const scaleOutput = `<span class="text-text-muted">$</span> jake docker.build k8s.deploy
<span class="text-jake">â†’</span> docker.build
<span class="text-green-500">âœ“</span> docker.build <span class="text-text-muted">(12.4s)</span>
<span class="text-jake">â†’</span> k8s.deploy
<span class="text-green-500">âœ“</span> k8s.deploy <span class="text-text-muted">(3.2s)</span>

<span class="text-text-muted">$</span> jake deploy  <span class="text-syntax-comment"># Missing requirement</span>
<span class="text-red-500">error:</span> Required command not found: <span class="text-jake">helm</span>
<span class="text-text-secondary">hint:</span> Install with: brew install helm

<span class="text-text-muted">$</span> jake deploy  <span class="text-syntax-comment"># Missing env var</span>
<span class="text-red-500">error:</span> Required environment variable not set:
       <span class="text-jake">AWS_ACCESS_KEY_ID</span>`;

const logo = "{j}";
---

<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jake - Modern Command Running</title>
  <meta name="description" content="The best of Make and Just, combined. File dependencies, clean syntax, parallel execution, and more." />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />
  <meta property="og:title" content="Jake - Modern Command Running" />
  <meta property="og:description" content="The best of Make and Just, combined." />
  <meta property="og:image" content="https://jakefile.dev/og-image.png" />
  <meta name="twitter:card" content="summary_large_image" />
</head>
<body class="bg-bg-primary text-text-primary antialiased">
  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-bg-primary/80 backdrop-blur-xl border-b border-border">
    <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="/" class="flex items-center gap-2 text-xl font-semibold">
        <span class="text-jake font-mono">{logo}</span>
        <span>jake</span>
      </a>
      <div class="flex items-center gap-6">
        <a href="/docs/introduction" class="text-text-secondary hover:text-text-primary transition-colors text-sm">Docs</a>
        <a href="https://github.com/HelgeSverre/jake" class="text-text-secondary hover:text-text-primary transition-colors text-sm">GitHub</a>
        <a href="/docs/installation" class="bg-jake hover:bg-jake-dark text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
          Get Started
        </a>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="relative min-h-screen flex items-center justify-center pt-16 bg-grid bg-radial overflow-hidden">
    <div class="max-w-6xl mx-auto px-6 py-24 grid lg:grid-cols-2 gap-16 items-center">
      <!-- Left: Text -->
      <div class="space-y-8">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-border bg-bg-secondary text-sm text-text-secondary">
          <span class="w-2 h-2 rounded-full bg-jake animate-pulse"></span>
          Written in Zig. Blazing fast.
        </div>

        <h1 class="text-5xl lg:text-6xl font-bold leading-tight">
          Modern<br/>
          <span class="text-gradient">command running</span>
        </h1>

        <p class="text-xl text-text-secondary max-w-lg leading-relaxed">
          The best of <span class="text-text-primary font-medium">Make</span> and <span class="text-text-primary font-medium">Just</span>, combined.
          File dependencies, clean syntax, parallel execution, and watch mode.
        </p>

        <div class="flex flex-wrap gap-4">
          <a href="/docs/introduction" class="inline-flex items-center gap-2 bg-jake hover:bg-jake-dark text-white px-6 py-3 rounded-lg font-medium transition-all hover:scale-105 glow-sm">
            Get Started
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </a>
          <a href="https://github.com/HelgeSverre/jake" class="inline-flex items-center gap-2 border border-border hover:border-border-light px-6 py-3 rounded-lg font-medium transition-colors bg-bg-secondary">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
            </svg>
            View on GitHub
          </a>
        </div>

        <!-- Install command -->
        <div class="pt-4">
          <div class="bg-bg-code border border-border rounded-lg p-4 font-mono text-sm flex items-center justify-between group">
            <code>
              <span class="text-text-muted">$</span>
              <span class="text-text-secondary"> curl -fsSL</span>
              <span class="text-jake"> jakefile.dev/install.sh</span>
              <span class="text-text-secondary"> | sh</span>
            </code>
            <button class="text-text-muted hover:text-text-primary transition-colors opacity-0 group-hover:opacity-100" title="Copy">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Right: Code Example -->
      <div class="relative">
        <div class="absolute -inset-4 bg-jake/5 rounded-3xl blur-3xl"></div>
        <div class="relative bg-bg-code border border-border rounded-xl overflow-hidden glow">
          <!-- Window chrome -->
          <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-secondary">
            <div class="flex gap-1.5">
              <div class="w-3 h-3 rounded-full bg-red-500/80"></div>
              <div class="w-3 h-3 rounded-full bg-yellow-500/80"></div>
              <div class="w-3 h-3 rounded-full bg-green-500/80"></div>
            </div>
            <span class="text-xs text-text-muted font-mono ml-2">Jakefile</span>
          </div>
          <!-- Code -->
          <pre class="p-6 text-sm leading-relaxed overflow-x-auto"><code set:html={heroCode}></code></pre>
        </div>
      </div>
    </div>

    <!-- Scroll indicator -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
      <svg class="w-6 h-6 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </div>
  </section>

  <!-- Comparison Section -->
  <section class="py-32 border-t border-border">
    <div class="max-w-6xl mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">
          Same task. <span class="text-gradient">Different syntax.</span>
        </h2>
        <p class="text-xl text-text-secondary max-w-2xl mx-auto">
          See how Jake compares to Make and Just for a common build task.
        </p>
      </div>

      <div class="grid lg:grid-cols-3 gap-6">
        <!-- Makefile -->
        <div class="bg-bg-card border border-border rounded-xl overflow-hidden hover-lift">
          <div class="px-4 py-3 border-b border-border flex items-center justify-between">
            <span class="font-mono text-sm text-text-secondary">Makefile</span>
            <span class="text-xs px-2 py-1 rounded bg-text-muted/10 text-text-muted">Make</span>
          </div>
          <pre class="p-4 text-sm leading-relaxed overflow-x-auto text-text-secondary"><code set:html={makeCode}></code></pre>
        </div>

        <!-- justfile -->
        <div class="bg-bg-card border border-border rounded-xl overflow-hidden hover-lift">
          <div class="px-4 py-3 border-b border-border flex items-center justify-between">
            <span class="font-mono text-sm text-text-secondary">justfile</span>
            <span class="text-xs px-2 py-1 rounded bg-text-muted/10 text-text-muted">Just</span>
          </div>
          <pre class="p-4 text-sm leading-relaxed overflow-x-auto text-text-secondary"><code set:html={justCode}></code></pre>
        </div>

        <!-- Jakefile -->
        <div class="bg-bg-card border border-jake/30 rounded-xl overflow-hidden hover-lift glow-sm relative">
          <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-jake to-transparent"></div>
          <div class="px-4 py-3 border-b border-border flex items-center justify-between">
            <span class="font-mono text-sm text-jake">Jakefile</span>
            <span class="text-xs px-2 py-1 rounded bg-jake/10 text-jake font-medium">Jake</span>
          </div>
          <pre class="p-4 text-sm leading-relaxed overflow-x-auto"><code set:html={jakeCode}></code></pre>
        </div>
      </div>

      <!-- Comparison table -->
      <div class="mt-16 bg-bg-card border border-border rounded-xl overflow-hidden">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-border bg-bg-secondary">
              <th class="text-left px-6 py-4 font-medium text-text-secondary">Feature</th>
              <th class="text-center px-6 py-4 font-medium text-text-secondary">Make</th>
              <th class="text-center px-6 py-4 font-medium text-text-secondary">Just</th>
              <th class="text-center px-6 py-4 font-medium text-jake">Jake</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-border">
            <tr>
              <td class="px-6 py-4 text-text-secondary">File-based dependencies</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
            </tr>
            <tr>
              <td class="px-6 py-4 text-text-secondary">Clean, readable syntax</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
            </tr>
            <tr>
              <td class="px-6 py-4 text-text-secondary">Parallel execution</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
              <td class="px-6 py-4 text-center text-yellow-500" title="[parallel] attribute for dependencies only">~</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
            </tr>
            <tr>
              <td class="px-6 py-4 text-text-secondary">Glob patterns in deps</td>
              <td class="px-6 py-4 text-center text-yellow-500" title="Via $(wildcard) function">~</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
            </tr>
            <tr>
              <td class="px-6 py-4 text-text-secondary">Watch mode</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
            </tr>
            <tr>
              <td class="px-6 py-4 text-text-secondary">Pre/post hooks</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-text-muted">âœ—</td>
              <td class="px-6 py-4 text-center text-green-500">âœ“</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="py-32 border-t border-border bg-bg-secondary">
    <div class="max-w-6xl mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">
          Everything you need to <span class="text-gradient">build faster</span>
        </h2>
        <p class="text-xl text-text-secondary max-w-2xl mx-auto">
          Jake combines the best features from Make and Just, plus unique capabilities you won't find anywhere else.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {features.map((feature) => (
          <div class="bg-bg-card border border-border rounded-xl p-6 hover-lift group">
            <div class="mb-4 text-jake">
              <feature.icon size={28} strokeWidth={1.5} />
            </div>
            <h3 class="font-semibold text-lg mb-2 group-hover:text-jake transition-colors">{feature.title}</h3>
            <p class="text-text-secondary text-sm leading-relaxed">{feature.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Deep Dive: Incremental Builds -->
  <section class="py-32 border-t border-border">
    <div class="max-w-6xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <!-- Left: Content -->
        <div class="space-y-8">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-jake/30 bg-jake/5 text-sm text-jake">
            <Clock size={14} />
            The Make Advantage
          </div>
          <h2 class="text-4xl font-bold">
            Build <span class="text-gradient">smarter</span>, not harder
          </h2>
          <p class="text-xl text-text-secondary leading-relaxed">
            File targets track modification times and only rebuild what changed. Chain them together for multi-stage builds that skip unnecessary work.
          </p>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Glob patterns</span> â€” Match files with <code class="text-jake text-sm">src/**/*.ts</code></span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Dependency chains</span> â€” File targets can depend on other file targets</span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Automatic skip</span> â€” "Up to date" when nothing changed</span>
            </li>
          </ul>
        </div>
        <!-- Right: Code -->
        <div class="space-y-6">
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-secondary">
              <FileCode size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Jakefile</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={incrementalBuildExample}></code></pre>
          </div>
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-secondary">
              <Terminal size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Terminal</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={incrementalOutput}></code></pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Deep Dive: Developer Experience -->
  <section class="py-32 border-t border-border bg-bg-secondary">
    <div class="max-w-6xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <!-- Left: Code (swapped) -->
        <div class="space-y-6 order-2 lg:order-1">
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-tertiary">
              <FileCode size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Jakefile</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={devExperienceExample}></code></pre>
          </div>
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-tertiary">
              <Terminal size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Terminal</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={devExperienceOutput}></code></pre>
          </div>
        </div>
        <!-- Right: Content (swapped) -->
        <div class="space-y-8 order-1 lg:order-2">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-jake/30 bg-jake/5 text-sm text-jake">
            <Sparkles size={14} />
            The Just Advantage + More
          </div>
          <h2 class="text-4xl font-bold">
            Code you <span class="text-gradient">want to read</span>
          </h2>
          <p class="text-xl text-text-secondary leading-relaxed">
            Clean syntax without tab sensitivity or cryptic symbols. Plus intelligent tooling that catches your mistakes and helps you explore.
          </p>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Typo suggestions</span> â€” "Did you mean: build?" using Levenshtein distance</span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Recipe inspection</span> â€” <code class="text-jake text-sm">jake -s build</code> shows full details</span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Aliases</span> â€” <code class="text-jake text-sm">task build | b | compile:</code> for shortcuts</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Deep Dive: Powerful Execution -->
  <section class="py-32 border-t border-border">
    <div class="max-w-6xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <!-- Left: Content -->
        <div class="space-y-8">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-jake/30 bg-jake/5 text-sm text-jake">
            <Zap size={14} />
            Jake's Unique Strengths
          </div>
          <h2 class="text-4xl font-bold">
            Run tasks <span class="text-gradient">your way</span>
          </h2>
          <p class="text-xl text-text-secondary leading-relaxed">
            Parallel execution, live file watching, and conditional logic. Control exactly how and when your tasks run.
          </p>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Parallel jobs</span> â€” <code class="text-jake text-sm">jake -j4</code> runs independent tasks simultaneously</span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Watch mode</span> â€” <code class="text-jake text-sm">jake -w</code> rebuilds on file changes</span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Conditionals</span> â€” <code class="text-jake text-sm">@if</code>/<code class="text-jake text-sm">@elif</code>/<code class="text-jake text-sm">@else</code> for dynamic behavior</span>
            </li>
          </ul>
        </div>
        <!-- Right: Code -->
        <div class="space-y-6">
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-secondary">
              <FileCode size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Jakefile</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={executionExample}></code></pre>
          </div>
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-secondary">
              <Terminal size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Terminal</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={executionOutput}></code></pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Deep Dive: Scale Gracefully -->
  <section class="py-32 border-t border-border bg-bg-secondary">
    <div class="max-w-6xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <!-- Left: Code (swapped) -->
        <div class="space-y-6 order-2 lg:order-1">
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-tertiary">
              <FileCode size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Jakefile</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={scaleExample}></code></pre>
          </div>
          <div class="bg-bg-code border border-border rounded-xl overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 border-b border-border bg-bg-tertiary">
              <Terminal size={16} class="text-text-muted" />
              <span class="text-xs text-text-muted font-mono">Terminal</span>
            </div>
            <pre class="p-5 text-sm leading-relaxed overflow-x-auto"><code set:html={scaleOutput}></code></pre>
          </div>
        </div>
        <!-- Right: Content (swapped) -->
        <div class="space-y-8 order-1 lg:order-2">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-jake/30 bg-jake/5 text-sm text-jake">
            <Layers size={14} />
            Organization & Safety
          </div>
          <h2 class="text-4xl font-bold">
            From scripts to <span class="text-gradient">systems</span>
          </h2>
          <p class="text-xl text-text-secondary leading-relaxed">
            Split your Jakefile into modules, validate requirements before running, and handle different platforms gracefully.
          </p>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Namespaced imports</span> â€” <code class="text-jake text-sm">@import "x.jake" as x</code></span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Validation</span> â€” <code class="text-jake text-sm">@needs</code> and <code class="text-jake text-sm">@require</code> catch issues early</span>
            </li>
            <li class="flex items-start gap-3">
              <CheckCircle class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0" />
              <span class="text-text-secondary"><span class="text-text-primary font-medium">Platform-specific</span> â€” <code class="text-jake text-sm">@platform macos linux</code> for OS-aware tasks</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Code Examples Section -->
  <section class="py-32 border-t border-border">
    <div class="max-w-6xl mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">
          Powerful <span class="text-gradient">by example</span>
        </h2>
        <p class="text-xl text-text-secondary max-w-2xl mx-auto">
          See Jake in action with real-world examples.
        </p>
      </div>

      <div class="grid lg:grid-cols-2 gap-8">
        <!-- Example 1: Watch Mode -->
        <div class="bg-bg-card border border-border rounded-xl overflow-hidden">
          <div class="px-6 py-4 border-b border-border">
            <h3 class="font-semibold">Watch Mode</h3>
            <p class="text-sm text-text-secondary mt-1">Automatically rebuild when files change</p>
          </div>
          <pre class="p-6 text-sm leading-relaxed overflow-x-auto"><code set:html={watchExample}></code></pre>
        </div>

        <!-- Example 2: Parallel Execution -->
        <div class="bg-bg-card border border-border rounded-xl overflow-hidden">
          <div class="px-6 py-4 border-b border-border">
            <h3 class="font-semibold">Parallel Execution</h3>
            <p class="text-sm text-text-secondary mt-1">Run independent tasks simultaneously</p>
          </div>
          <pre class="p-6 text-sm leading-relaxed overflow-x-auto"><code set:html={parallelExample}></code></pre>
        </div>

        <!-- Example 3: Imports -->
        <div class="bg-bg-card border border-border rounded-xl overflow-hidden">
          <div class="px-6 py-4 border-b border-border">
            <h3 class="font-semibold">Modular Imports</h3>
            <p class="text-sm text-text-secondary mt-1">Split your Jakefile into reusable modules</p>
          </div>
          <pre class="p-6 text-sm leading-relaxed overflow-x-auto"><code set:html={importsExample}></code></pre>
        </div>

        <!-- Example 4: Hooks -->
        <div class="bg-bg-card border border-border rounded-xl overflow-hidden">
          <div class="px-6 py-4 border-b border-border">
            <h3 class="font-semibold">Pre/Post Hooks</h3>
            <p class="text-sm text-text-secondary mt-1">Setup and cleanup that always runs</p>
          </div>
          <pre class="p-6 text-sm leading-relaxed overflow-x-auto"><code set:html={hooksExample}></code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-32 border-t border-border bg-bg-secondary relative overflow-hidden">
    <div class="absolute inset-0 bg-radial opacity-50"></div>
    <div class="max-w-3xl mx-auto px-6 text-center relative">
      <h2 class="text-4xl lg:text-5xl font-bold mb-6">
        Ready to <span class="text-gradient">modernize</span> your builds?
      </h2>
      <p class="text-xl text-text-secondary mb-10">
        Get started with Jake in seconds. No complex setup required.
      </p>

      <div class="bg-bg-code border border-border rounded-xl p-6 mb-10 max-w-xl mx-auto">
        <code class="text-lg">
          <span class="text-text-muted">$</span>
          <span class="text-text-secondary"> curl -fsSL</span>
          <span class="text-jake"> jakefile.dev/install.sh</span>
          <span class="text-text-secondary"> | sh</span>
        </code>
      </div>

      <div class="flex flex-wrap justify-center gap-4">
        <a href="/docs/introduction" class="inline-flex items-center gap-2 bg-jake hover:bg-jake-dark text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all hover:scale-105 glow">
          Read the Docs
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
        </a>
        <a href="https://github.com/HelgeSverre/jake" class="inline-flex items-center gap-2 border border-border hover:border-jake/50 px-8 py-4 rounded-xl font-semibold text-lg transition-colors">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
          </svg>
          Star on GitHub
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 border-t border-border">
    <div class="max-w-6xl mx-auto px-6">
      <div class="flex flex-col md:flex-row justify-between items-center gap-6">
        <div class="flex items-center gap-2">
          <span class="text-jake font-mono text-xl">{logo}</span>
          <span class="text-text-secondary">jake</span>
          <span class="text-text-muted text-sm">Â· Modern command running</span>
        </div>
        <div class="flex items-center gap-6 text-sm text-text-secondary">
          <a href="/docs/introduction" class="hover:text-text-primary transition-colors">Docs</a>
          <a href="https://github.com/HelgeSverre/jake" class="hover:text-text-primary transition-colors">GitHub</a>
          <a href="https://github.com/HelgeSverre/jake/issues" class="hover:text-text-primary transition-colors">Issues</a>
          <span class="text-text-muted">MIT License</span>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>
